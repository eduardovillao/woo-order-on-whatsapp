document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".variations_form");if(!e)return;const t=e.querySelector("input.variation_id"),n=document.querySelectorAll(".evowap_btn"),o=document.getElementById("woapp_message"),r=document.getElementById("woapp_name"),a=document.getElementById("woapp_link"),u=document.getElementById("woapp_number"),l=document.getElementById("woapp_reg_price");if(!t||0===n.length)return;let c=t.value;const i=()=>{const c=t.value;if(console.log("Current Variation ID:",c),""===c)return;const i=u?u.value:"",m=o?o.value:"",d=r?r.value:"",s=a?a.value:"",p=e.querySelector(".woocommerce-variation-price"),v=e.querySelector(".single_variation .amount")||e.querySelector(".amount");let y="";""===(p?p.textContent.trim():"")&&l?y=l.value:v&&(y=v.textContent.trim());const g=`https://wa.me/${i}?text=${m}%0D%0A%0D%0A${encodeURIComponent(d)}%0D%0A${encodeURIComponent(y)}%0D%0A${encodeURIComponent(s)}`;n.forEach((e=>e.setAttribute("href",g)))};i(),new MutationObserver((()=>{t.value!==c?(c=t.value,i()):""!==t.value&&i()})).observe(e,{childList:!0,subtree:!0,attributes:!0})}));